<style>
    #target{
        overflow: auto;
    }
    /* Rating Star Widgets Style */
    .rating-stars ul {
        list-style-type:none;
        padding:0;
        
        -moz-user-select:none;
        -webkit-user-select:none;
    }
    .rating-stars ul > li.star {
        display:inline-block;
    
    }

    /* Idle State of the stars */
    .rating-stars ul > li.star > i.fa {
        font-size:2.5em; /* Change the size of the stars */
        color:#ffffff; /* Color on idle state */
    }

    /* Hover state of the stars */
    .rating-stars ul > li.star.hover > i.fa {
        color:#FFCC36;
    }

    /* Selected state of the stars */
    .rating-stars ul > li.star.selected > i.fa {
        color:#FF912C;
    }
</style>


<body>
    <!--Panel Tool-->
    <div class="center-align panelTool">  
        <!-- à¸ºBasic -->
        <div class="noselect source sourceHeader activeSource" type="basic" style="background-color:#FF9D00;">
            Operator</div>
        <div id="source" class="connectedSource source sourcePanel activeSource noselect" type="basic">
            <!-- <div type="element" event="start" source="basic">
                <svg width="210" height="90">
                    <rect x="5" y="5" width="200" height="80" rx="40"
                        style="fill: #FC5972;stroke: #000000;stroke-width: 5px;"></rect>
                    <text text-anchor="middle" x="105" y="45" alignment-baseline="central"
                        style="font-size:25px;">B</text>
                </svg>
            </div>
            <div type="element" event="end" source="basic">
                <svg width="210" height="90">
                    <rect x="5" y="5" width="200" height="80" rx="40"
                        style="fill: #FC5972;stroke: #000000;stroke-width: 5px;"></rect>
                    <text text-anchor="middle" x="105" y="45" alignment-baseline="central"
                        style="font-size:25px;">C</text>
                </svg>
            </div> -->
            <div class="tab valign-wrapper" style="width:100%;padding-top: 15px">
                <div class="canClick jellyButton operatorButton selected" event="<">
                    <div class="lessthan-icon"></div>
                </div>
                <div class="canClick jellyButton operatorButton" event="<=">
                    <div class="lessthanorequal-icon"></div>
                </div>
                <div class="canClick jellyButton operatorButton" event=">">
                    <div class="greaterthan-icon"></div>
                </div>
                <div class="canClick jellyButton operatorButton" event=">=">
                    <div class="greaterthanorequal-icon"></div>
                </div>
                <div class="canClick jellyButton operatorButton" event="==">
                    <div class="equal-icon"></div>
                </div>
                <div class="canClick jellyButton operatorButton" event="!=">
                    <div class="notequal-icon"></div>
                </div>
                <div class="canClick jellyButton operatorButton selected" event="+">
                    <div class="plus-icon"></div>
                </div>
                <div class="canClick jellyButton operatorButton" event="-">
                    <div class="minus-icon"></div>
                </div>
                <div class="canClick jellyButton operatorButton" event="*">
                    <div class="multiple-icon"></div>
                </div>
                <div class="canClick jellyButton operatorButton" event="/">
                    <div class="divide-icon"></div>
                </div>
                <div class="canClick jellyButton operatorButton" event="%">
                    <div class="modular-icon"></div>
                </div>
            </div>
        </div>
        <!-- Type Process -->
        <div class="noselect source sourceHeader" type="process" style="display: none;background-color:#FF9D00;">
            Test Topic</div>
        <div id="source" class="connectedSource source noselect sourcePanel" type="process" style="display: none;">
            E
        </div>

        <!-- Question Area -->
        <div id="target" class="center-align connectedSource noselect targetPanel ui-widget-content" style="width: 70%;">
            <div style="padding: 0px 20px 20px 20px;">
                <p style="text-align: left;font-size: 18px;font-weight: bold;" >Question Name</p>
                <input type="text" style="background-color: white;"/>
                <p style="text-align: left;font-size: 18px;font-weight: bold;" >Hint</p>
                <textarea style="background-color: white;"></textarea>
                <p style="text-align: left;font-size: 18px;font-weight: bold;" >Question
                <button id="q_increase">+</button>
                <button id="q_decrease">-</button>
                </p>
                <div id="question_text" style="overflow: hidden;">
                    <input id="question_part1" type="text" style="background-color: white;width: 100px;"/>
                    ANS1
                    <input id="question_part2" type="text" style="background-color: white;width: 100px;"/>
                </div>
                <p style="text-align: left;font-size: 18px;font-weight: bold;" >Answers
                    <button id="a_increase">+</button>
                    <button id="a_decrease">-</button>
                </p>
                <div id="answer_text">
                </div>
                <p style="text-align: left;font-size: 18px;font-weight: bold;" >Difficult</p>
                <!-- Rating Stars Box -->
                <section class='rating-widget'>
                    <div class='rating-stars' style="text-align: left;">
                      <ul id='stars'>
                        <li class='star' title='Poor' data-value='1'>
                          <i class='fa fa-star fa-fw'></i>
                        </li>
                        <li class='star' title='Fair' data-value='2'>
                          <i class='fa fa-star fa-fw'></i>
                        </li>
                        <li class='star' title='Good' data-value='3'>
                          <i class='fa fa-star fa-fw'></i>
                        </li>
                        <li class='star' title='Excellent' data-value='4'>
                          <i class='fa fa-star fa-fw'></i>
                        </li>
                        <li class='star' title='WOW!!!' data-value='5'>
                          <i class='fa fa-star fa-fw'></i>
                        </li>
                      </ul>
                    </div>
                    
                    <div class='success-box'>
                      <div class='clearfix'></div>
                      <div class='text-message'></div>
                      <div class='clearfix'></div>
                    </div>
                    
                    
                    
                </section>
            </div>
        </div>
    </div>
    <!--Menu Icon-->
    <ul class="tabs">
        <li style="height: 80px;" class="tab">
            <div id="playButton" class="canClick jellyButton button-tool">
                <svg style="width: 20px;height: 30px;margin-top: 14px;margin-left: 3px;">
                    <path
                        d="M26.522,10.162,9.16.144a1.071,1.071,0,0,0-1.6.927V21.124a1.071,1.071,0,0,0,1.6.927L26.522,12.033A1.086,1.086,0,0,0,26.522,10.162Z"
                        transform="translate(-7.556 0)"></path>
                </svg>
            </div>
        </li>
        <li style="border-bottom: 5px solid black;height: 90px;margin-bottom:12px;" class="tab">
            <div id="resetButton" class="canClick jellyButton button-tool">
                <div class="reset-icon"></div>
            </div>
        </li>
        <li class="tab valign-wrapper" style="height: 80px">
            <div class="canClick jellyButton typeButton selected" type="basic">
                <div class="basic-icon"></div>
            </div>
        </li>
        <li class="tab valign-wrapper" style="height: 80px">
            <div class="canClick jellyButton typeButton" type="process">
                <div class="process-icon"></div>
            </div>
        </li>
    </ul>
</body>

<script>
function createAnswer(ans,ans_pattern){
    var ans_part = "";
    for(let j=1;j<=ans;j++){
        ans_part += "ANS"+j+" = "+
                    "<input id='answer"+j+"' type='text' style='background-color: white;width: 100px;'/> ";
    }
    if(document.getElementById("ansPattern"+ans_pattern+"") != null){
        document.getElementById("ansPattern"+ans_pattern+"").remove();
    };
    document.getElementById("answer_text").innerHTML += "<div id='ansPattern"+ans_pattern+"'>"+
                        "<div style='text-align: left;'>"+
                            "Answer "+ans_pattern+" : "+
                            ans_part+
                        "</div>"+
                    "</div>";
};
$(document).ready(function(){
    
    let question_partcount = 2;
    let ans_count = 1;
    let answerPattern_count = 1;
    //add answer in question
    createAnswer(ans_count,1);
    $('#q_increase').click(function(){
        question_partcount++;
        ans_count++;
        var q_text = "ANS"+(ans_count)+" <input id='question_part"+(question_partcount)+"' type='text' style='background-color: white;width: 100px;'/> ";        
        document.getElementById("question_text").innerHTML += q_text;
        document.getElementById("answer_text").innerHTML = "";
        answerPattern_count = 1;
        createAnswer(ans_count,1);       
    });
    //delete answer in question
    $('#q_decrease').click(function(){
        if(ans_count > 1){
            question_partcount--;
            ans_count--;
            var q_text_part = "<input id='question_part1' type='text' style='background-color: white;width: 100px;'/> "
            for(let i=1;i<=ans_count;i++){
                var q_text = "ANS"+(i)+" <input id='question_part"+(i+1)+"' type='text' style='background-color: white;width: 100px;'/> ";        
                q_text_part += q_text;
            };
            document.getElementById("question_text").innerHTML = q_text_part;
            document.getElementById("answer_text").innerHTML = "";
            answerPattern_count = 1;
            createAnswer(ans_count,1);  
        }
    });
    //add answer pattern
    $('#a_increase').click(function(){
        answerPattern_count++;
        createAnswer(ans_count,answerPattern_count);       
    });
    //delete answer pattern
    $('#a_decrease').click(function(){
        if(document.getElementById("ansPattern"+answerPattern_count+"") != null && answerPattern_count > 1){
            document.getElementById("ansPattern"+answerPattern_count+"").remove();
            answerPattern_count--;
        };
    });

    /* 1. Visualizing things on Hover - See next part for action on click */
    $('#stars li').on('mouseover', function(){
        var onStar = parseInt($(this).data('value'), 10); // The star currently mouse on
    
        // Now highlight all the stars that's not after the current hovered star
        $(this).parent().children('li.star').each(function(e){
        if (e < onStar) {
            $(this).addClass('hover');
        }
        else {
            $(this).removeClass('hover');
        }
        });
        
    }).on('mouseout', function(){
        $(this).parent().children('li.star').each(function(e){
        $(this).removeClass('hover');
        });
    });
    
    
    /* 2. Action to perform on click */
    $('#stars li').on('click', function(){
        var onStar = parseInt($(this).data('value'), 10); // The star currently selected
        var stars = $(this).parent().children('li.star');
        
        for (i = 0; i < stars.length; i++) {
        $(stars[i]).removeClass('selected');
        }
        
        for (i = 0; i < onStar; i++) {
        $(stars[i]).addClass('selected');
        }
        
        // JUST RESPONSE (Not needed)
        var ratingValue = parseInt($('#stars li.selected').last().data('value'), 10);
        var msg = "";
        if (ratingValue > 1) {
            msg = "Thanks! You rated this " + ratingValue + " stars.";
        }
        else {
            msg = "We will improve ourselves. You rated this " + ratingValue + " stars.";
        }
        responseMessage(msg);
        
    });
    
    
    });


    function responseMessage(msg) {
    $('.success-box').fadeIn(200);  
    $('.success-box div.text-message').html("<span>" + msg + "</span>");
    }



</script>